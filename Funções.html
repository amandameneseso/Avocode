<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funções</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <main>

        <h1>Funções</h1>

        <p>Funções são blocos de código que executam uma tarefa específica. Funcionam como motores que recebem um parâmetro de entrada e produzem um parâmetro de saída. Elas ajudam a organizar o código e podem ser reutilizadas em diferentes partes do programa.</p>

        <p>Por exemplo, a função abaixo calcula a soma de dois números:</p>

        <div class="exemplo">
            <code>
                function soma(p1, p2) { <br>
                &nbsp;&nbsp;&nbsp;&nbsp;return a + b <br>
                }
            </code>
        </div>

        <p><strong>Sintaxe de uma função</strong>:</p>

        <ul>
            <li>Definição da função: Começa com a palavra-chave <span class="code">function</span> seguida pelo nome da função, e entre parênteses são definidos os parâmetros;</li>
            <li>Parâmetros: Valores que uma função pode receber para trabalhar, definidos em <span class="code">( )</span>. Os parênteses podem incluir nomes de parâmetros separados por vírgulas. Argumentos são os valores recebido pela função quando ela é chamada;</li>
            <li>Corpo da função: O código a ser executado pela função é colocado dentro de colchetes: <span class="code">{ }</span>;</li>
            <li>Retorno: Uma função pode (ou não) retornar um valor usando a palavra-chave <span class="code">return</span>.</li>
        </ul>

        <p>O código dentro de uma função será executado quando a função for invocada (chamada). Para chamar uma função, usamos o nome da função seguido de parênteses:</p>

        <div class="exemplo">
            <code>
                let resultado = soma(5, 3); <br>
                console.log(resultado); // Saída: 8<br>
            </code>
        </div>

        <p>Quando o JavaScript encontra a palavra-chave <span class="code">return</span> em uma função, ele para a execução dessa função e retorna o valor especificado. O valor retornado pode ser utilizado pelo código que chamou a função.</p>

        <p>Exemplo: Calcular o produto de dois números e retornar o resultado</p>

        <div class="exemplo">
            <code>
                function produto(a, b) { <br>
                &nbsp;&nbsp;&nbsp;&nbsp;return a * b <br>
                } <br>
                <br>
                let resultado = produto(5, 3); <br>
                console.log(resultado); // Saída: 15
            </code>
        </div>

        <p>Explicação:</p>

        <p>1. A função <span class="code">produto(a, b)</span> recebe dois parâmetros, <span class="code">a</span> e <span class="code">b</span>, e retorna o produto desses dois números.</p>

        <p>2. A linha <span class="code">let resultado = produto(5, 3);</span> chama a função <span class="code">produto</span> com os argumentos <span class="code">5</span> e <span class="code">3</span>, armazenando o resultado na variável <span class="code">resultado</span>. Quando você chama <span class="code">produto(5, 3)</span>, o valor de <span class="code">a</span> se torna <span class="code">5</span> e o valor de <span class="code">b</span> se torna <span class="code">3</span>.</p>

        <p>3. <span class="code">console.log(resultado)</span> imprime o valor de <span class="code">resultado</span>, que é <span class="code">15</span>.</p>

        <div class="destaque">

            <p><strong>Por que usar funções?</strong></p>

            <p>Com funções, você pode escrever um bloco de código uma vez e reutilizá-lo sempre que necessário.</p>

            <p>Você pode usar o mesmo código com argumentos diferentes, para produzir resultados diferentes.</p>

            <p>Alterar a lógica de um comportamento em uma função facilita a manutenção sem afetar o restante do código.</p>

        </div>

        <p><strong>Utilizando funções como valores variáveis</strong></p>

        <p>As funções podem ser usadas da mesma maneira que você usa variáveis, em todos os tipos de fórmulas, atribuições e cálculos. Por exemplo, em vez de usar uma variável para armazenar o valor de retorno de uma função:</p>

        <div class="exemplo">
            <code>
                let x = produto(4,10); <br>
                let text = "O valor total é " + x + " unidades"; <br>
                console.log(text); // Saída: O valor total é 40 unidades
            </code>
        </div>

        <p>Você pode usar a função diretamente, como um valor variável:</p>

        <div class="exemplo">
            <code>
                let text = "O valor total é " + produto(4,10) + " unidades"; <br>
                console.log(text); // Saída: O valor total é 40 unidades
            </code>
        </div>

        <h3>Variáveis locais e globais</h3>

        <p>Variáveis declaradas dentro da função só existem dentro da função (escopo local);</p>

        <p>Variáveis declaradas fora da função são acessíveis globalmente (escopo global).</p>

        <p>Exemplo:</p>

        <div class="exemplo">
            <code>
                function adicionar() { <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;let contador = 0; <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;contador++; <br>
                } <br>
                adicionar(); <br>
                adicionar(); <br>
                console.log(contador); // Saída: Uncaught ReferenceError: contador is not defined
            </code>
        </div>

        <p>Este código deveria adicionar um (1) ao <span class="code">contador</span>, mas ele vai gerar um erro, porque a variável <span class="code">contador</span> está declarada dentro da função <span  class="code">adicionar</span>, portanto, ela tem escopo local. Isso significa que <span class="code">contador</span> só existe dentro da função <span  class="code">adicionar</span> e não está acessível fora dela. Quando você tenta fazer <span  class="code">console.log(contador);</span> fora da função, o JavaScript não encontra a variável <span class="code">contador</span> e exibe um erro de referência <span class="code">(ReferenceError: contador is not defined)</span>. Para corrigir isso, você pode declarar <span class="code">contador</span> fora da função <span  class="code">adicionar</span> se quiser que ele seja acessível globalmente. Aqui está uma versão corrigida:</p>

        <div class="exemplo">
            <code>
                let contador = 0; <br>
                function adicionar() { <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;contador++; <br>
                } <br>
                adicionar(); <br>
                adicionar(); <br>
                console.log(contador); // Saída: 2
            </code>
        </div>

        <h2>Arrow function</h2>

        <p>Arrow functions oferecem uma sintaxe mais curta e concisa para escrever funções.</p>

        <p>Função tradicional:</p>

        <div class="exemplo">
            <code>
                function soma(a, b) { <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;return a + b <br>
                    }
            </code>
        </div>

        <p>Equivalente em arrow function:</p>

        <div class="exemplo">
            <code>
                const soma = (a, b) => a + b <br>
                console.log(soma(3, 4)); // Saída: 7
            </code>
        </div>

        <p>Se a função tem apenas um parâmetro, os parênteses podem ser omitidos:</p>

        <div class="exemplo">
            <code>
                const dobro = x => x * 2 <br>
                console.log(dobro(3)); // Saída: 6
            </code>
        </div>

        <p>Quando o corpo da função está entre <span class="code">{ }</span>, você precisa usar <span class="code">return</span> explicitamente para retornar um valor:</p>

        <div class="exemplo">
            <code>
                const multiplica = (a, b) => { <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;return a * b <br>
                    } <br>
                console.log(multiplica(3, 4)); // Saída: 12
            </code>
        </div>

        <p>Já sem <span class="code">{ }</span>, o retorno é implícito:</p>

        <div class="exemplo">
            <code>
                const multiplica = (a, b) => a * b <br>
                console.log(multiplica(3, 4)); // Saída: 12
            </code>
        </div>

        <h2>Exemplos práticos</h2>

        <p><strong>1. Função para verificar se um número é par ou ímpar</strong></p>

        <div class="exemplo">
            <code>
                function parOuImpar(numero) { <br>
                    &nbsp;&nbsp;&nbsp;if (numero % 2 === 0) { <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return "Par"; <br>
                    &nbsp;&nbsp;&nbsp;} else {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return "Ímpar"; <br>
                    &nbsp;&nbsp;&nbsp;} <br>
                console.log(parOuImpar(3)); // Ímpar <br>
                console.log(parOuImpar(4)); // Par
            </code>
        </div>

        <div class="destaque">
            <p>Explicação:</p>
            <p>1. A função <span class="code">parOuImpar</span> recebe um número como parâmetro (<span class="code">numero</span>).</p>
            <p>2. O operador <span class="code">%</span> calcula o resto da divisão. A linha <span class="code">if (numero % 2 === 0)</span> verifica se o resto da divisão por 2 é zero, indicando que o número é par.</p>
            <ul>
                <li>Se a condição for verdadeira, retorna <span class="code">"Par"</span>.</li>
                <li>Se for falsa, executa o bloco do <span class="code">else</span> e retorna <span class="code">"Ímpar"</span>.</li>
            </ul>
            <p>Você pode simplificar o código utilizando uma Arrow Function e removendo o if-else, utilizando operador ternário, mas mantendo a mesma lógica:</p>
            <div class="exemplo">
                <code>
                    const parOuImpar = numero => numero % 2 === 0 ? "Par" : "Ímpar" <br>
                    console.log(parOuImpar(3)); // Ímpar <br>
                    console.log(parOuImpar(4)); // Par
                </code>
            </div>
        </div>

        <p><strong>2. Função para calcular a média de um array numérico:</strong></p>

        <div class="exemplo">
            <code>
                function calcularMedia(array) { <br>
                    &nbsp;&nbsp;&nbsp;let soma = 0; <br>
                    &nbsp;&nbsp;&nbsp;for (let i = 0; i &lt; array.length; i++) { <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;soma += array[i]; <br>
                    &nbsp;&nbsp;&nbsp;} <br>
                    &nbsp;&nbsp;&nbsp;return soma / array.length; <br>
                    } <br>
                    <br>
                    const numeros = [13, 22, 36, 41] <br>
                    console.log(calcularMedia(numeros)); // 28
            </code>
        </div>

        <div class="destaque">
            <p>Explicação:</p>
            <p>1. A função <span class="code">calcularMedia</span> recebe um array como entrada (<span class="code">array</span>).</p>
            <p>2. Uma variável chamada <span class="code">soma</span> é criada para armazenar a soma de todos os elementos do array.</p>
            <p>3. O laço for itera sobre o array e adiciona cada elemento ao valor da variável <span class="code">soma</span>. Em cada iteração:</p>
            <ul>
                <li>A variável <span class="code">i</span> é o índice do elemento atual no array.</li>
                <li>A variável <span class="code">soma</span> recebe o valor da variável <span class="code">soma</span> mais o valor do elemento no índice <span class="code">i</span>.</li>
            </ul>
            <p>4. Após somar todos os elementos, a variável <span class="code">soma</span> é dividida pelo número de elementos do array (<span class="code">array.length</span>) para obter a média.</p>
            <p>Também podemos simplificar esse código utilizando o método <span class="code">reduce</span>:</p>
            <div class="exemplo">
                <code>
                    function calcularMedia(array) { <br>
                        &nbsp;&nbsp;&nbsp;const soma = array.reduce((soma, elemento) =&gt; soma + elemento, 0);<br>
                        &nbsp;&nbsp;&nbsp;return soma / array.length; <br>
                    } <br>
                    <br>
                    const numeros = [13, 22, 36, 41] <br>
                    console.log(calcularMedia(numeros)); // 28
                </code>
            </div>
        </div>

        <p><strong>3. Função para gerar uma frase com valores variáveis:</strong></p>

        <p>Essa função recebe o nome de um produto, a quantidade e o preço unitário, e retorna uma frase com o total da compra no formato: "Você comprou [quantidade] [produto](s) pelo total de R$[total]."</p>

        <div class="exemplo">
            <code>
                function frase (produto, quantidade, preco) { <br>
                    &nbsp;&nbsp;&nbsp;return (`Você comprou ${quantidade} ${produto}(s) pelo total de R${quantidade * preco}.`) <br>
                } <br>
                <br>
                console.log (frase ("camisas", 3, 40)); // "Você comprou 3 camisas pelo total de R$120."
            </code>
        </div>

        <a href="Estruturas de controle.html" class="button-previous" target="_self">
            <div class="arrow-wrapper">
                <div class="arrow"></div>
            </div>
        </a>
        <a href="index.html" class="button-home" target="_self">home</a>
        <a href="Manipulação do DOM.html" class="button-next" target="_self">
            <div class="arrow-wrapper">
                <div class="arrow"></div>
            </div>
        </a>
        
    </main>
    
</body>
</html>